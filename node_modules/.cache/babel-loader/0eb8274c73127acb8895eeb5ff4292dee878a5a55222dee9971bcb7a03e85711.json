{"ast":null,"code":"import { required, max, min } from \"vee-validate/dist/rules\";\nimport { extend, ValidationObserver, ValidationProvider } from \"vee-validate\";\nimport axios from \"axios\";\nconst API_URL = \"http://localhost:5038/api/\";\nextend(\"max\", {\n  ...max,\n  message: \"El campo {_field_} no debe tener mas de {259} caracteres\"\n});\nextend(\"min\", {\n  ...min,\n  message: \"El campo {_field_} debe tener por lo menos {3} caracteres\"\n});\nextend(\"required\", {\n  ...required,\n  message: \"El campo {_field_} es obligatorio\"\n});\nextend(\"base\", {\n  validate: value => {\n    const regex = /^[a-zA-Z0-9]+$/;\n    return regex.test(value);\n  },\n  message: \"Este Campo solo debe contener números y letras\"\n});\nextend(\"acentos\", {\n  validate: value => {\n    const regex = /^[ñ\\s]+$/;\n    return regex.test(value);\n  }\n});\nexport default {\n  name: \"RegistrarProveedoresComponent\",\n  data() {\n    return {\n      proveedorDatosGenerales: {\n        rfc: \"\",\n        rznSocial: \"\",\n        contacto: \"\",\n        estado: \"\",\n        telP: \"\",\n        telS: \"\",\n        email: \"\",\n        cp: \"\",\n        noInterior: \"\",\n        noExterior: \"\",\n        calle: \"\",\n        colonia: \"\",\n        entidad: \"\",\n        municipio: \"\"\n      },\n      Municipios: [],\n      entidadNombres: [],\n      NombreEstados: [],\n      NombreMunicipios: []\n    };\n  },\n  components: {\n    ValidationProvider\n  },\n  methods: {\n    validateForm() {\n      //this.$refs.formObserver.validate();\n      console.log(this.proveedorDatosGenerales.estado);\n    },\n    onEntidadSelected() {\n      const entidadSeleccionada = this.proveedorDatosGenerales.entidad;\n      if (entidadSeleccionada) {\n        // Filtra los nombres de los municipios basados en la entidad seleccionada\n        this.NombreMunicipios = this.Municipios.filter(municipio => municipio.entidad === entidadSeleccionada);\n      } else {\n        // Si no se ha seleccionado una entidad, muestra todos los municipios\n        this.NombreMunicipios = this.Municipios.map(municipio => municipio.nombre);\n      }\n    },\n    async refreshData() {\n      try {\n        const response = await axios.get(`${API_URL}EntidadesMunicipios/Entidades`);\n        const resultado = response.data;\n        this.entidadNombres = resultado;\n      } catch (error) {\n        console.error(\"Error al obtener las Entidades:\", error);\n      }\n      try {\n        const response = await axios.get(`${API_URL}EstadoProveedores`);\n        const resultado = response.data;\n        this.NombreEstados = resultado;\n      } catch (error) {\n        console.error(\"Error al obtener las Estados:\", error);\n      }\n      try {\n        const response = await axios.get(`${API_URL}EntidadesMunicipios/Municipios`);\n        const resultado = response.data;\n        this.NombreMunicipios = resultado;\n      } catch (error) {\n        console.error(\"Error al obtener las Estados:\", error);\n      }\n    }\n  },\n  created() {\n    this.refreshData();\n  }\n};","map":{"version":3,"names":["required","max","min","extend","ValidationObserver","ValidationProvider","axios","API_URL","message","validate","value","regex","test","name","data","proveedorDatosGenerales","rfc","rznSocial","contacto","estado","telP","telS","email","cp","noInterior","noExterior","calle","colonia","entidad","municipio","Municipios","entidadNombres","NombreEstados","NombreMunicipios","components","methods","validateForm","console","log","onEntidadSelected","entidadSeleccionada","filter","map","nombre","refreshData","response","get","resultado","error","created"],"sources":["src/components/proveedores/RegistrarProveedoresComponent.vue"],"sourcesContent":["<template>\n  <div class=\"container\">\n    <div class=\"row\">\n      <div class=\"col-xs-12 col-sm-12 col-md-9 col-lg-9\">\n        <v-form>\n          <ValidationObserver ref=\"formObserver\">\n            <v-card class=\"mx-auto\">\n              <v-card-text>\n                <p class=\"text-h4 text--primary\">\n                  Nuevo Proveedor\n                </p>\n                <div>Datos Generales</div>\n                <v-divider></v-divider>\n                <div class=\"text--primary\">\n                  <div class=\"row\">\n                    <div class=\"col-xs-12 col-sm-12 col-md-3 col-lg-3\">\n                      <ValidationProvider\n                        v-slot=\"{ errors }\"\n                        name=\"rfc\"\n                        rules=\"min:3\"\n                      >\n                        <v-text-field\n                          label=\"Rfc\"\n                          outlined\n                          dense\n                          color=\"inigo\"\n                          clearable\n                          v-model=\"proveedorDatosGenerales.rfc\"\n                          :error-message=\"errors\"\n                        ></v-text-field>\n                      </ValidationProvider>\n                    </div>\n\n                    <div class=\"col-xs-12 col-sm-12 col-md-3 col-lg-3\">\n                      <v-text-field\n                        label=\"Razón Social\"\n                        outlined\n                        dense\n                        color=\"inigo\"\n                        clearable\n                        v-model=\"proveedorDatosGenerales.rznSocial\"\n                      ></v-text-field>\n                    </div>\n\n                    <div class=\"col-xs-12 col-sm-12 col-md-3 col-lg-3\">\n                      <v-text-field\n                        label=\"Contacto\"\n                        outlined\n                        dense\n                        color=\"inigo\"\n                        clearable\n                      ></v-text-field>\n                    </div>\n\n                    <div class=\"col-xs-12 col-sm-12 col-md-3 col-lg-3\">\n                      <v-select\n                        :items=\"NombreEstados.map((estados) => estados.estado)\"\n                        label=\"Estado\"\n                        dense\n                        outlined\n                        v-model=\"proveedorDatosGenerales.estado\"\n                        value=\"_id\"\n                        item-text=\"nombre\"\n                      ></v-select>\n                    </div>\n\n                    <div class=\"col-xs-12 col-sm-12 col-md-3 col-lg-3\">\n                      <v-text-field\n                        label=\"Teléfono Principal\"\n                        outlined\n                        dense\n                        color=\"inigo\"\n                        clearable\n                      ></v-text-field>\n                    </div>\n\n                    <div class=\"col-xs-12 col-sm-12 col-md-3 col-lg-3\">\n                      <v-text-field\n                        label=\"Teléfono Movil\"\n                        outlined\n                        dense\n                        color=\"inigo\"\n                        clearable\n                      ></v-text-field>\n                    </div>\n\n                    <div class=\"col-xs-12 col-sm-12 col-md-3 col-lg-3\">\n                      <v-text-field\n                        label=\"Email\"\n                        outlined\n                        dense\n                        color=\"inigo\"\n                        clearable\n                      ></v-text-field>\n                    </div>\n                  </div>\n                </div>\n\n                <v-subheader>Dirección</v-subheader>\n\n                <div class=\"row\">\n                  <div class=\"text--primary\">\n                    <div class=\"row\">\n                      <div class=\"col-xs-12 col-sm-12 col-md-3 col-lg-3\">\n                        <v-text-field\n                          label=\"Código Postal\"\n                          outlined\n                          dense\n                          color=\"inigo\"\n                          clearable\n                        ></v-text-field>\n                      </div>\n\n                      <div class=\"col-xs-12 col-sm-12 col-md-3 col-lg-3\">\n                        <v-text-field\n                          label=\"Número Interior\"\n                          outlined\n                          dense\n                          color=\"inigo\"\n                          clearable\n                        ></v-text-field>\n                      </div>\n\n                      <div class=\"col-xs-12 col-sm-12 col-md-3 col-lg-3\">\n                        <v-text-field\n                          label=\"Número Exterior\"\n                          outlined\n                          dense\n                          color=\"inigo\"\n                          clearable\n                        ></v-text-field>\n                      </div>\n\n                      <div class=\"col-xs-0 col-sm-0 col-md-3 col-lg-3\"></div>\n\n                      <div class=\"col-xs-12 col-sm-12 col-md-3 col-lg-3\">\n                        <v-text-field\n                          label=\"Calle\"\n                          outlined\n                          dense\n                          color=\"inigo\"\n                          clearable\n                        ></v-text-field>\n                      </div>\n\n                      <div class=\"col-xs-12 col-sm-12 col-md-3 col-lg-3\">\n                        <v-text-field\n                          label=\"Colonia\"\n                          outlined\n                          dense\n                          color=\"inigo\"\n                          clearable\n                        ></v-text-field>\n                      </div>\n\n                      <div class=\"col-xs-12 col-sm-12 col-md-3 col-lg-3\">\n                        <v-select\n                          :items=\"entidadNombres\"\n                          label=\"Entidad\"\n                          dense\n                          outlined\n                          items\n                          v-model=\"proveedorDatosGenerales.entidad\"\n                        ></v-select>\n                      </div>\n\n                      <div class=\"col-xs-12 col-sm-12 col-md-3 col-lg-3\">\n                        <v-select\n                          :items=\"NombreMunicipios.map((municipios) =>municipios.nombre)\"\n                          label=\"Municipios\"\n                          dense\n                          outlined\n                          v-model=\"proveedorDatosGenerales.municipio\"\n                          @change=\"onEntidadSelected\"\n                        ></v-select>\n                      </div>\n                    </div>\n                  </div>\n                </div>\n                <v-card-actions>\n                  <v-btn\n                    text\n                    color=\"deep-purple accent-4\"\n                    @click=\"validateForm\"\n                  >\n                    <i class=\"fa-solid fa-floppy-disk\"></i>\n                    Guardar\n                  </v-btn>\n                </v-card-actions>\n              </v-card-text>\n            </v-card>\n          </ValidationObserver>\n        </v-form>\n      </div>\n\n      <div class=\"col-xs-12 col-sm-12 col-md-3 col-lg-3\">\n        <v-card class=\"mx-auto\" outlined>\n          <v-list-item three-line>\n            <v-list-item-content>\n              <div class=\"mb-1\">\n                Detalle del proveedor\n              </div>\n              <v-list-item-title class=\"text-h6 mb-1\">\n                Datos Capturados\n              </v-list-item-title>\n              <p>RFC: {{ proveedorDatosGenerales.rfc }}</p>\n              <p>Razón Social: {{ proveedorDatosGenerales.rznSocial }}</p>\n              <p>Entidad: {{ proveedorDatosGenerales.estado }}</p>\n            </v-list-item-content>\n\n            <v-list-item-avatar\n              tile\n              size=\"80\"\n              color=\"grey\"\n            ></v-list-item-avatar>\n          </v-list-item>\n\n          <v-card-actions>\n            <v-btn outlined rounded text>\n              Button\n            </v-btn>\n          </v-card-actions>\n        </v-card>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { required, max, min } from \"vee-validate/dist/rules\";\nimport { extend, ValidationObserver, ValidationProvider } from \"vee-validate\";\nimport axios from \"axios\";\n\nconst API_URL = \"http://localhost:5038/api/\";\n\nextend(\"max\", {\n  ...max,\n  message: \"El campo {_field_} no debe tener mas de {259} caracteres\",\n});\nextend(\"min\", {\n  ...min,\n  message: \"El campo {_field_} debe tener por lo menos {3} caracteres\",\n});\nextend(\"required\", {\n  ...required,\n  message: \"El campo {_field_} es obligatorio\",\n});\nextend(\"base\", {\n  validate: (value) => {\n    const regex = /^[a-zA-Z0-9]+$/;\n    return regex.test(value);\n  },\n  message: \"Este Campo solo debe contener números y letras\",\n});\nextend(\"acentos\", {\n  validate: (value) => {\n    const regex = /^[ñ\\s]+$/;\n    return regex.test(value);\n  },\n});\n\nexport default {\n  name: \"RegistrarProveedoresComponent\",\n\n  data() {\n    return {\n      proveedorDatosGenerales: {\n        rfc: \"\",\n        rznSocial: \"\",\n        contacto: \"\",\n        estado: \"\",\n        telP: \"\",\n        telS: \"\",\n        email: \"\",\n        cp: \"\",\n        noInterior: \"\",\n        noExterior: \"\",\n        calle: \"\",\n        colonia: \"\",\n        entidad: \"\",\n        municipio: \"\",\n      },\n\n      Municipios: [],\n      entidadNombres: [],\n      NombreEstados:[],\n      NombreMunicipios: [],\n    };\n  },\n  components: {\n    ValidationProvider,\n  },\n  methods: {\n    validateForm() {\n      //this.$refs.formObserver.validate();\n      console.log(this.proveedorDatosGenerales.estado)\n    },\n    onEntidadSelected() {\n    const entidadSeleccionada = this.proveedorDatosGenerales.entidad;\n    if (entidadSeleccionada) {\n      // Filtra los nombres de los municipios basados en la entidad seleccionada\n      this.NombreMunicipios = this.Municipios.filter((municipio) => municipio.entidad === entidadSeleccionada);\n    } else {\n      // Si no se ha seleccionado una entidad, muestra todos los municipios\n      this.NombreMunicipios = this.Municipios.map((municipio) => municipio.nombre);\n    }},\n    async refreshData() {\n      try {\n        const response = await axios.get(`${API_URL}EntidadesMunicipios/Entidades`);\n        const resultado = response.data;\n        this.entidadNombres = resultado\n      } catch (error) {\n        console.error(\"Error al obtener las Entidades:\", error);\n      }\n      try {\n        const response = await axios.get(`${API_URL}EstadoProveedores`);\n        const resultado = response.data;\n        this.NombreEstados = resultado\n      }catch (error) {\n        console.error(\"Error al obtener las Estados:\", error);\n      }\n      try {\n        const response = await axios.get(`${API_URL}EntidadesMunicipios/Municipios`);\n        const resultado = response.data;\n        this.NombreMunicipios = resultado\n      }catch (error) {\n        console.error(\"Error al obtener las Estados:\", error);\n      }\n    },\n  },\n  created() {\n    this.refreshData();\n  },\n};\n</script>\n"],"mappings":"AAqOA,SAAAA,QAAA,EAAAC,GAAA,EAAAC,GAAA;AACA,SAAAC,MAAA,EAAAC,kBAAA,EAAAC,kBAAA;AACA,OAAAC,KAAA;AAEA,MAAAC,OAAA;AAEAJ,MAAA;EACA,GAAAF,GAAA;EACAO,OAAA;AACA;AACAL,MAAA;EACA,GAAAD,GAAA;EACAM,OAAA;AACA;AACAL,MAAA;EACA,GAAAH,QAAA;EACAQ,OAAA;AACA;AACAL,MAAA;EACAM,QAAA,EAAAC,KAAA;IACA,MAAAC,KAAA;IACA,OAAAA,KAAA,CAAAC,IAAA,CAAAF,KAAA;EACA;EACAF,OAAA;AACA;AACAL,MAAA;EACAM,QAAA,EAAAC,KAAA;IACA,MAAAC,KAAA;IACA,OAAAA,KAAA,CAAAC,IAAA,CAAAF,KAAA;EACA;AACA;AAEA;EACAG,IAAA;EAEAC,KAAA;IACA;MACAC,uBAAA;QACAC,GAAA;QACAC,SAAA;QACAC,QAAA;QACAC,MAAA;QACAC,IAAA;QACAC,IAAA;QACAC,KAAA;QACAC,EAAA;QACAC,UAAA;QACAC,UAAA;QACAC,KAAA;QACAC,OAAA;QACAC,OAAA;QACAC,SAAA;MACA;MAEAC,UAAA;MACAC,cAAA;MACAC,aAAA;MACAC,gBAAA;IACA;EACA;EACAC,UAAA;IACA7B;EACA;EACA8B,OAAA;IACAC,aAAA;MACA;MACAC,OAAA,CAAAC,GAAA,MAAAvB,uBAAA,CAAAI,MAAA;IACA;IACAoB,kBAAA;MACA,MAAAC,mBAAA,QAAAzB,uBAAA,CAAAa,OAAA;MACA,IAAAY,mBAAA;QACA;QACA,KAAAP,gBAAA,QAAAH,UAAA,CAAAW,MAAA,CAAAZ,SAAA,IAAAA,SAAA,CAAAD,OAAA,KAAAY,mBAAA;MACA;QACA;QACA,KAAAP,gBAAA,QAAAH,UAAA,CAAAY,GAAA,CAAAb,SAAA,IAAAA,SAAA,CAAAc,MAAA;MACA;IAAA;IACA,MAAAC,YAAA;MACA;QACA,MAAAC,QAAA,SAAAvC,KAAA,CAAAwC,GAAA,IAAAvC,OAAA;QACA,MAAAwC,SAAA,GAAAF,QAAA,CAAA/B,IAAA;QACA,KAAAiB,cAAA,GAAAgB,SAAA;MACA,SAAAC,KAAA;QACAX,OAAA,CAAAW,KAAA,oCAAAA,KAAA;MACA;MACA;QACA,MAAAH,QAAA,SAAAvC,KAAA,CAAAwC,GAAA,IAAAvC,OAAA;QACA,MAAAwC,SAAA,GAAAF,QAAA,CAAA/B,IAAA;QACA,KAAAkB,aAAA,GAAAe,SAAA;MACA,SAAAC,KAAA;QACAX,OAAA,CAAAW,KAAA,kCAAAA,KAAA;MACA;MACA;QACA,MAAAH,QAAA,SAAAvC,KAAA,CAAAwC,GAAA,IAAAvC,OAAA;QACA,MAAAwC,SAAA,GAAAF,QAAA,CAAA/B,IAAA;QACA,KAAAmB,gBAAA,GAAAc,SAAA;MACA,SAAAC,KAAA;QACAX,OAAA,CAAAW,KAAA,kCAAAA,KAAA;MACA;IACA;EACA;EACAC,QAAA;IACA,KAAAL,WAAA;EACA;AACA"},"metadata":{},"sourceType":"module","externalDependencies":[]}