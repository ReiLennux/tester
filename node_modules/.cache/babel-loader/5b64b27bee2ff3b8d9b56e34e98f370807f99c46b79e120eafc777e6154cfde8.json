{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport { required, max, min } from \"vee-validate/dist/rules\";\nimport { extend, ValidationObserver, ValidationProvider } from \"vee-validate\";\nimport axios from \"axios\";\nconst API_URL = \"http://localhost:5038/api/\";\nextend(\"max\", {\n  ...max,\n  message: \"El campo {_field_} no debe tener mas de {259} caracteres\"\n});\nextend(\"min\", {\n  ...min,\n  message: \"El campo {_field_} debe tener por lo menos {3} caracteres\"\n});\nextend(\"required\", {\n  ...required,\n  message: \"El campo {_field_} es obligatorio\"\n});\nextend(\"base\", {\n  validate: value => {\n    const regex = /^[a-zA-Z0-9]+$/;\n    return regex.test(value);\n  },\n  message: \"Este Campo solo debe contener números y letras\"\n});\nextend(\"acentos\", {\n  validate: value => {\n    const regex = /^[ñ\\s]+$/;\n    return regex.test(value);\n  }\n});\nexport default {\n  name: \"RegistrarProveedoresComponent\",\n  data() {\n    return {\n      ProveedorObj: {\n        rfc: \"\",\n        rznSocial: \"\",\n        contacto: \"\",\n        estado: \"\",\n        telP: \"\",\n        telS: \"\",\n        email: \"\",\n        cp: \"\",\n        noInterior: \"\",\n        noExterior: \"\",\n        calle: \"\",\n        colonia: \"\",\n        entidad: \"\",\n        municipio: \"\"\n      },\n      Municipios: [],\n      entidadNombres: [],\n      NombreEstados: [],\n      NombreMunicipios: []\n    };\n  },\n  components: {\n    ValidationProvider\n  },\n  methods: {\n    validateForm() {\n      //this.$refs.formObserver.validate();\n      console.log(this.ProveedorObj);\n    },\n    async refreshData() {\n      try {\n        const response = await axios.get(`${API_URL}EntidadesMunicipios/Entidades`);\n        const resultado = [];\n        for (const item in response.data) {\n          resultado.push({\n            id: response.data[item]._id,\n            entidad: response.data[item].nombre\n          });\n        }\n        this.entidadNombres = resultado;\n      } catch (error) {\n        console.error(\"Error al obtener las Entidades:\", error);\n      }\n      try {\n        const response = await axios.get(`${API_URL}EstadoProveedores`);\n        const resultado = [];\n        for (const item in response.data) {\n          resultado.push({\n            id: response.data[item]._id,\n            estado: response.data[item].estado\n          });\n        }\n        this.NombreEstados = resultado;\n      } catch (error) {\n        console.error(\"Error al obtener las Estados:\", error);\n      }\n      try {\n        const response = await axios.get(`${API_URL}EntidadesMunicipios/Municipios`);\n        const resultado = [];\n        for (const item in response.data) {\n          resultado.push({\n            id: response.data[item]._id,\n            municipio: response.data[item].nombre,\n            estadoID: response.data[item].estadoId\n          });\n        }\n        this.NombreMunicipios = resultado;\n      } catch (error) {\n        console.error(\"Error al obtener las Estados:\", error);\n      }\n    }\n  },\n  created() {\n    this.refreshData();\n  },\n  watch: {\n    'ProveedorObj.entidad': function (newEntidadId, oldEntidadId) {\n      if (newEntidadId !== oldEntidadId) {\n        this.Municipios = this.NombreMunicipios.filter(municipio => municipio.estadoID === newEntidadId);\n      }\n    }\n  }\n};","map":{"version":3,"names":["required","max","min","extend","ValidationObserver","ValidationProvider","axios","API_URL","message","validate","value","regex","test","name","data","ProveedorObj","rfc","rznSocial","contacto","estado","telP","telS","email","cp","noInterior","noExterior","calle","colonia","entidad","municipio","Municipios","entidadNombres","NombreEstados","NombreMunicipios","components","methods","validateForm","console","log","refreshData","response","get","resultado","item","push","id","_id","nombre","error","estadoID","estadoId","created","watch","ProveedorObj.entidad","newEntidadId","oldEntidadId","filter"],"sources":["src/components/proveedores/RegistrarProveedoresComponent.vue"],"sourcesContent":["<template>\n  <div class=\"container\">\n    <div class=\"row\">\n      <div class=\"col-xs-12 col-sm-12 col-md-8 col-lg-8\">\n        <v-form>\n          <ValidationObserver ref=\"formObserver\">\n            <v-card class=\"mx-auto\">\n              <v-card-text>\n                <p class=\"text-h4 text--primary\">\n                  Nuevo Proveedor\n                </p>\n                <div>Datos Generales</div>\n                <v-divider></v-divider>\n                <div class=\"text--primary\">\n                  <div class=\"row\">\n                    <div class=\"col-xs-12 col-sm-12 col-md-3 col-lg-3\">\n                      <ValidationProvider\n                        v-slot=\"{ errors }\"\n                        name=\"rfc\"\n                        rules=\"min:3\"\n                      >\n                        <v-text-field\n                          label=\"Rfc\"\n                          outlined\n                          dense\n                          color=\"inigo\"\n                          clearable\n                          v-model=\"ProveedorObj.rfc\"\n                          :error-message=\"errors\"\n                        ></v-text-field>\n                      </ValidationProvider>\n                    </div>\n\n                    <div class=\"col-xs-12 col-sm-12 col-md-3 col-lg-3\">\n                      <v-text-field\n                        label=\"Razón Social\"\n                        outlined\n                        dense\n                        color=\"inigo\"\n                        clearable\n                        v-model=\"ProveedorObj.rznSocial\"\n                      ></v-text-field>\n                    </div>\n\n                    <div class=\"col-xs-12 col-sm-12 col-md-3 col-lg-3\">\n                      <v-text-field\n                        label=\"Contacto\"\n                        v-model=\"ProveedorObj.contacto\"\n                        outlined\n                        dense\n                        color=\"inigo\"\n                        clearable\n                      ></v-text-field>\n                    </div>\n\n                    <div class=\"col-xs-12 col-sm-12 col-md-3 col-lg-3\">\n                      <v-select\n                        :items=\"NombreEstados\"\n                        label=\"Estado\"\n                        dense\n                        outlined\n                        v-model=\"ProveedorObj.estado\"\n                        item-text=\"estado\"\n                        item-value=\"id\"\n                      ></v-select>\n                    </div>\n\n                    <div class=\"col-xs-12 col-sm-12 col-md-3 col-lg-3\">\n                      <v-text-field\n                        label=\"Teléfono Principal\"\n                        v-model=\"ProveedorObj.telP\"\n                        outlined\n                        dense\n                        color=\"inigo\"\n                        clearable\n                      ></v-text-field>\n                    </div>\n\n                    <div class=\"col-xs-12 col-sm-12 col-md-3 col-lg-3\">\n                      <v-text-field\n                        label=\"Teléfono Movil\"\n                        v-model=\"ProveedorObj.telS\"\n                        outlined\n                        dense\n                        color=\"inigo\"\n                        clearable\n                      ></v-text-field>\n                    </div>\n\n                    <div class=\"col-xs-12 col-sm-12 col-md-3 col-lg-3\">\n                      <v-text-field\n                        label=\"Email\"\n                        v-model=\"ProveedorObj.email\"\n                        outlined\n                        dense\n                        color=\"inigo\"\n                        clearable\n                      ></v-text-field>\n                    </div>\n                  </div>\n                </div>\n\n                <v-subheader>Dirección</v-subheader>\n\n                <div class=\"row\">\n                  <div class=\"text--primary\">\n                    <div class=\"row\">\n                      <div class=\"col-xs-12 col-sm-12 col-md-3 col-lg-3\">\n                        <v-text-field\n                          label=\"Código Postal\"\n                          v-model=\"ProveedorObj.cp\"\n                          outlined\n                          dense\n                          color=\"inigo\"\n                          clearable\n                        ></v-text-field>\n                      </div>\n\n                      <div class=\"col-xs-12 col-sm-12 col-md-3 col-lg-3\">\n                        <v-text-field\n                          label=\"Número Interior\"\n                          v-model=\"ProveedorObj.noInterior\"\n                          outlined\n                          dense\n                          color=\"inigo\"\n                          clearable\n                        ></v-text-field>\n                      </div>\n\n                      <div class=\"col-xs-12 col-sm-12 col-md-3 col-lg-3\">\n                        <v-text-field\n                          label=\"Número Exterior\"\n                          v-model=\"ProveedorObj.noExterior\"\n                          outlined\n                          dense\n                          color=\"inigo\"\n                          clearable\n                        ></v-text-field>\n                      </div>\n\n                      <div class=\"col-xs-0 col-sm-0 col-md-3 col-lg-3\"></div>\n\n                      <div class=\"col-xs-12 col-sm-12 col-md-3 col-lg-3\">\n                        <v-text-field\n                          label=\"Calle\"\n                          v-model=\"ProveedorObj.calle\"\n                          outlined\n                          dense\n                          color=\"inigo\"\n                          clearable\n                        ></v-text-field>\n                      </div>\n\n                      <div class=\"col-xs-12 col-sm-12 col-md-3 col-lg-3\">\n                        <v-text-field\n                          label=\"Colonia\"\n                          v-model=\"ProveedorObj.colonia\"\n                          outlined\n                          dense\n                          color=\"inigo\"\n                          clearable\n                        ></v-text-field>\n                      </div>\n\n                      <div class=\"col-xs-12 col-sm-12 col-md-3 col-lg-3\">\n                        <v-select\n                          :items=\"entidadNombres\"\n                          label=\"Entidad\"\n                          dense\n                          outlined\n                          item-text=\"entidad\"\n                          item-value=\"id\"\n                          v-model=\"ProveedorObj.entidad\" \n                        ></v-select>\n                      </div>\n\n                      <div class=\"col-xs-12 col-sm-12 col-md-3 col-lg-3\">\n                        <v-select\n                          :items=\"Municipios\"\n                          label=\"Municipios\"\n                          dense\n                          outlined\n                          item-text=\"municipio\"\n                          item-value=\"id\"\n                          v-model=\"ProveedorObj.municipio\"\n                        ></v-select>\n                      </div>\n                    </div>\n                  </div>\n                </div>\n                <v-card-actions>\n                  <v-btn\n                    text\n                    color=\"deep-purple accent-4\"\n                    @click=\"validateForm\"\n                  >\n                    <i class=\"fa-solid fa-floppy-disk\"></i>\n                    Guardar\n                  </v-btn>\n                </v-card-actions>\n              </v-card-text>\n            </v-card>\n          </ValidationObserver>\n        </v-form>\n      </div>\n\n      <div class=\"col-xs-12 col-sm-12 col-md-4 col-lg-4\">\n        <v-card class=\"mx-auto\" outlined>\n          <v-list-item three-line>\n            <v-list-item-content>\n              <div class=\"mb-1\">\n                Detalle del proveedor\n              </div>\n              <v-list-item-title class=\"text-h6 mb-1\">\n                Datos Capturados\n              </v-list-item-title>\n              <p>RFC: {{ ProveedorObj.rfc }}</p>\n              <p>Razón Social: {{ ProveedorObj.rznSocial }}</p>\n              <p>Estado: {{ ProveedorObj.estado }}</p>\n              <p>Entidad: {{ ProveedorObj.entidad }}</p>\n              <p>municipio: {{ ProveedorObj.municipio }}</p>\n            </v-list-item-content>\n\n            <v-list-item-avatar\n              tile\n              size=\"80\"\n              color=\"grey\"\n            ></v-list-item-avatar>\n          </v-list-item>\n\n          <v-card-actions>\n            <v-btn outlined rounded text>\n              Button\n            </v-btn>\n          </v-card-actions>\n        </v-card>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { required, max, min } from \"vee-validate/dist/rules\";\nimport { extend, ValidationObserver, ValidationProvider } from \"vee-validate\";\nimport axios from \"axios\";\n\nconst API_URL = \"http://localhost:5038/api/\";\n\nextend(\"max\", {\n  ...max,\n  message: \"El campo {_field_} no debe tener mas de {259} caracteres\",\n});\nextend(\"min\", {\n  ...min,\n  message: \"El campo {_field_} debe tener por lo menos {3} caracteres\",\n});\nextend(\"required\", {\n  ...required,\n  message: \"El campo {_field_} es obligatorio\",\n});\nextend(\"base\", {\n  validate: (value) => {\n    const regex = /^[a-zA-Z0-9]+$/;\n    return regex.test(value);\n  },\n  message: \"Este Campo solo debe contener números y letras\",\n});\nextend(\"acentos\", {\n  validate: (value) => {\n    const regex = /^[ñ\\s]+$/;\n    return regex.test(value);\n  },\n});\n\nexport default {\n  name: \"RegistrarProveedoresComponent\",\n\n  data() {\n    return {\n      ProveedorObj: {\n        rfc: \"\",\n        rznSocial: \"\",\n        contacto: \"\",\n        estado: \"\",\n        telP: \"\",\n        telS: \"\",\n        email: \"\",\n        cp: \"\",\n        noInterior: \"\",\n        noExterior: \"\",\n        calle: \"\",\n        colonia: \"\",\n        entidad: \"\",\n        municipio: \"\",\n      },\n\n      Municipios: [],\n      entidadNombres: [],\n      NombreEstados:[],\n      NombreMunicipios: [],\n    };\n  },\n  components: {\n    ValidationProvider,\n  },\n  methods: {\n    validateForm() {\n      //this.$refs.formObserver.validate();\n      console.log(this.ProveedorObj)\n    },\n    async refreshData() {\n      try {\n        const response = await axios.get(`${API_URL}EntidadesMunicipios/Entidades`);\n        const resultado = []\n        for (const item in response.data) {\n          resultado.push({id: response.data[item]._id, entidad: response.data[item].nombre});\n        }\n        this.entidadNombres = resultado\n      } catch (error) {\n        console.error(\"Error al obtener las Entidades:\", error);\n      }\n\n      try {\n        const response = await axios.get(`${API_URL}EstadoProveedores`);\n        const resultado = []\n        for (const item in response.data){\n          resultado.push({id: response.data[item]._id, estado: response.data[item].estado});\n        }\n        this.NombreEstados = resultado\n      }catch (error) {\n        console.error(\"Error al obtener las Estados:\", error);\n      }\n      try {\n        const response = await axios.get(`${API_URL}EntidadesMunicipios/Municipios`);\n        const resultado = []\n        for (const item in response.data){\n          resultado.push({id: response.data[item]._id, municipio: response.data[item].nombre, estadoID: response.data[item].estadoId})\n        }\n        this.NombreMunicipios = resultado\n      }catch (error) {\n        console.error(\"Error al obtener las Estados:\", error);\n      }\n    },\n  },\n  created() {\n    this.refreshData();\n  },\n\n  watch: {\n  'ProveedorObj.entidad': function(newEntidadId, oldEntidadId) {\n    if (newEntidadId !== oldEntidadId) {\n\n      this.Municipios = this.NombreMunicipios.filter(municipio => municipio.estadoID === newEntidadId);\n    }\n  }\n}\n\n};\n</script>\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}